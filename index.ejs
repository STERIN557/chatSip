<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatPrivate</title>
    
   <link rel="stylesheet" href="./public/client.css">
  </head>
  <body>

<!-- 

    <ul id="messages"></ul>
    <form action="">
      <input id="m" autocomplete="off" /><button>Send</button>
    </form> -->

    <header>
      ChatPrivate
    </header>


    <main>


  

    </main>

    <footer>
      <form action="">
        <input type="text" id="m" autocomplete="off"> <button id="snd"><img src="./public/images/iconsubmit.png" ></button>
      </form>
    </footer>

<script src="./node_modules/jquery/dist/jquery.min.js"></script>
<script src="./node_modules/socket.io-client/dist/socket.io.js"></script>
<script>

  var socket = io();
  $(function(){
   
    $('form').submit((e)=>{
      e.preventDefault();
      socket.emit('chat message',$('#m').val());
      $('#m').val('');
      return false;

    });
    socket.on('chat message',(msg)=>{
    let message = msg.msg;
    let id = msg.id;
    let username = msg.username;

       $("main").append(`<div class="sender"><div class="inside"><div id="userName" >${username}</div>${message}</div></div>`);

    })

  

   

  });


 
</script>
  </body>
</html>